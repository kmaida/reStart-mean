angular.module("myApp",["ngRoute","ngResource","ngSanitize","ngMessages","mediaCheck","satellizer"]),function(){"use strict";function t(t,n,e,i,o,a,c){function r(){s.btnSaved=!1,s.btnSaveText="Save"}function u(t){s.btnSaveText=""===t||null===t?"Enter Name":"Save"}var s=this;c.setTitle("Account"),s.logins=o.LOGINS,s.isAuthenticated=function(){return n.isAuthenticated()},s.getProfile=function(){function t(t){s.user=t,s.administrator=s.user.isAdmin,s.linkedAccounts=a.getLinkedAccounts(s.user,"account"),s.showAccount=!0}function n(){s.errorGettingUser=!0}e.getUser().then(t,n)},r(),t.$watch("account.user.displayName",u),s.updateProfile=function(){function t(){s.btnSaved=!0,s.btnSaveText="Saved!",i(r,2500)}function n(){s.btnSaved="error",s.btnSaveText="Error saving!"}var o={displayName:s.user.displayName};s.user.displayName&&(s.btnSaveText="Saving...",e.updateUser(o).then(t,n))},s.link=function(t){n.link(t).then(function(){s.getProfile()})["catch"](function(t){alert(t.data.message)})},s.unlink=function(t){n.unlink(t).then(function(){s.getProfile()})["catch"](function(n){alert(n.data?n.data.message:"Could not unlink "+t+" account")})},s.getProfile()}angular.module("myApp").controller("AccountCtrl",t),t.$inject=["$scope","$auth","userData","$timeout","OAUTH","User","Page"]}(),function(){"use strict";angular.module("myApp").constant("MQ",{SMALL:"(max-width: 767px)",LARGE:"(min-width: 768px)"})}(),function(){"use strict";angular.module("myApp").constant("OAUTH",{LOGINS:[{account:"google",name:"Google",url:"http://accounts.google.com"},{account:"twitter",name:"Twitter",url:"http://twitter.com"},{account:"facebook",name:"Facebook",url:"http://facebook.com"},{account:"github",name:"GitHub",url:"http://github.com"}]})}(),function(){"use strict";function t(t){var n=this;n.pageTitle=t}angular.module("myApp").controller("PageCtrl",t),t.$inject=["Page"]}(),function(){"use strict";function t(){function t(){return e}function n(t){e=t}var e="";return{title:t,setTitle:n}}angular.module("myApp").factory("Page",t)}(),function(){"use strict";function t(t){function n(n){var e=[];return angular.forEach(t.LOGINS,function(t){var i=t.account;n[i]&&e.push(i)}),e}return{getLinkedAccounts:n}}angular.module("myApp").factory("User",t),t.$inject=["OAUTH"]}(),function(){"use strict";function t(t){t.loginUrl="http://restart-mean.kmaida.net/auth/login",t.facebook({clientId:"343789249146966"}),t.google({clientId:"479651367330-trvf8efoo415ie0usfhm4i59410vk3j9.apps.googleusercontent.com"}),t.twitter({url:"/auth/twitter"}),t.github({clientId:"8096e95c2eba33b81adb"})}function n(t,n,e){t.$on("$routeChangeStart",function(i,o){o&&o.$$route&&o.$$route.secure&&!e.isAuthenticated()&&(t.authPath=n.path(),t.$evalAsync(function(){n.path("/login")}))})}angular.module("myApp").config(t).run(n),t.$inject=["$authProvider"],n.$inject=["$rootScope","$location","$auth"]}(),function(){"use strict";function t(t,n){t.when("/",{templateUrl:"ng-app/home/Home.view.html",controller:"HomeCtrl",controllerAs:"home",secure:!0}).when("/login",{templateUrl:"ng-app/login/Login.view.html",controller:"LoginCtrl",controllerAs:"login"}).when("/account",{templateUrl:"ng-app/account/Account.view.html",controller:"AccountCtrl",controllerAs:"account",secure:!0}).when("/admin",{templateUrl:"ng-app/admin/Admin.view.html",controller:"AdminCtrl",controllerAs:"admin",secure:!0}).otherwise({redirectTo:"/"}),n.html5Mode({enabled:!0}).hashPrefix("!")}angular.module("myApp").config(t),t.$inject=["$routeProvider","$locationProvider"]}(),function(){function t(t,n){function e(e,i){function o(){var t=i.find(".ad-test");e.ab.blocked=t.height()<=0||!i.find(".ad-test:visible").length}e.ab={},e.ab.host=n.host(),t(o,200)}return e.$inject=["$scope","$elem","$attrs"],{restrict:"EA",link:e,template:'<div class="ad-test fa-facebook fa-twitter" style="height:1px;"></div><div ng-if="ab.blocked" class="ab-message alert alert-danger"><i class="fa fa-ban"></i> <strong>AdBlock</strong> is prohibiting important functionality! Please disable ad blocking on <strong>{{ab.host}}</strong>. This site is ad-free.</div>'}}angular.module("myApp").directive("detectAdblock",t),t.$inject=["$timeout","$location"]}(),function(){"use strict";function t(t){if("object"==typeof t.data)return t.data;throw new Error("retrieved data is not typeof object.")}function n(n){this.getJSON=function(){return n.get("/ng-app/data/data.json").then(t)}}angular.module("myApp").service("localData",n),n.$inject=["$http"]}(),function(){"use strict";var t=angular.module("mediaCheck",[]);t.service("mediaCheck",["$window","$timeout",function(t,n){this.init=function(e){var i,o,a,c,r=e.scope,u=e.mq,s=e.debounce,l=angular.element(t),d=void 0,f=void 0!==t.matchMedia&&!!t.matchMedia("!").addListener,m=void 0,h=void 0,g=s?s:250;if(f)return h=function(t){t.matches&&"function"==typeof e.enter?e.enter(t):"function"==typeof e.exit&&e.exit(t),"function"==typeof e.change&&e.change(t)},(d=function(){return m=t.matchMedia(u),o=function(){return h(m)},m.addListener(o),l.bind("orientationchange",o),r.$on("$destroy",function(){m.removeListener(o),l.unbind("orientationchange",o)}),h(m)})();i={},h=function(t){return t.matches?!!i[u]==!1&&"function"==typeof e.enter&&e.enter(t):(i[u]===!0||null==i[u])&&"function"==typeof e.exit&&e.exit(t),(t.matches&&!i[u]||!t.matches&&(i[u]===!0||null==i[u]))&&"function"==typeof e.change&&e.change(t),i[u]=t.matches};var p=function(t){var n=document.createElement("div");return n.style.width="1em",n.style.position="absolute",document.body.appendChild(n),px=t*n.offsetWidth,document.body.removeChild(n),px},v=function(t,n){var e;switch(e=void 0,n){case"em":e=p(t);break;default:e=t}return e};i[u]=null,a=function(){var n=u.match(/\((.*)-.*:\s*([\d\.]*)(.*)\)/),e=n[1],i=v(parseInt(n[2],10),n[3]),o={},a=t.innerWidth||document.documentElement.clientWidth;return o.matches="max"===e&&i>a||"min"===e&&a>i,h(o)};var A=function(){clearTimeout(c),c=n(a,g)};return l.bind("resize",A),r.$on("$destroy",function(){l.unbind("resize",A)}),a()}}])}(),function(){"use strict";function t(t){return function(n){return t.trustAsHtml(n)}}angular.module("myApp").filter("trustAsHTML",t),t.$inject=["$sce"]}(),function(){"use strict";function t(t,n){function e(){var e=this;e.isAuthenticated=function(){return n.isAuthenticated()},t.getUser().then(function(t){e.user=t})}return{restrict:"EA",controller:e,controllerAs:"u",template:'<div ng-if="u.isAuthenticated() && !!u.user" class="user clearfix"><img ng-if="!!u.user.picture" ng-src="{{u.user.picture}}" class="user-picture" /><span class="user-displayName">{{u.user.displayName}}</span></div>'}}angular.module("myApp").directive("user",t),t.$inject=["userData","$auth"]}(),function(){"use strict";function t(t){if("object"==typeof t.data)return t.data;throw new Error("retrieved data is not typeof object.")}function n(n){this.getUser=function(){return n.get("/api/me").then(t)},this.updateUser=function(t){return n.put("/api/me",t)},this.getAllUsers=function(){return n.get("/api/users").then(t)}}angular.module("myApp").service("userData",n),n.$inject=["$http"]}(),function(){"use strict";function t(t,n,e){function i(i){function o(){e(function(){i.vs.viewformat="small"})}function a(){e(function(){i.vs.viewformat="large"})}i.vs={},t.init({scope:i,mq:n.SMALL,enter:o,exit:a})}return i.$inject=["$scope"],{restrict:"EA",link:i}}angular.module("myApp").directive("viewSwitch",t),t.$inject=["mediaCheck","MQ","$timeout"]}(),function(){"use strict";function t(t,n,e,i){function o(t){c.users=t,angular.forEach(c.users,function(t){t.linkedAccounts=e.getLinkedAccounts(t)}),c.showAdmin=!0}function a(){c.showAdmin=!1}var c=this;i.setTitle("Admin"),c.isAuthenticated=function(){return t.isAuthenticated()},n.getAllUsers().then(o,a)}angular.module("myApp").controller("AdminCtrl",t),t.$inject=["$auth","userData","User","Page"]}(),function(){"use strict";function t(t,n,e,i,o){function a(t){r.localData=t}function c(){i.isAuthenticated()&&void 0===r.adminUser&&o.getUser().then(function(t){r.adminUser=t.isAdmin})}var r=this;e.getJSON().then(a),r.logout=function(){r.adminUser=void 0,i.logout("/login")},c(),t.$on("$locationChangeSuccess",c),r.isAuthenticated=function(){return i.isAuthenticated()},r.indexIsActive=function(t){return n.path()===t},r.navIsActive=function(t){return n.path().substr(0,t.length)===t}}angular.module("myApp").controller("HeaderCtrl",t),t.$inject=["$scope","$location","localData","$auth","userData"]}(),function(){"use strict";function t(t,n,e){function i(i){function o(){s.removeClass("nav-closed").addClass("nav-open"),u=!0}function a(){s.removeClass("nav-open").addClass("nav-closed"),u=!1}function c(){a(),e(function(){i.nav.toggleNav=function(){u?a():o()}}),i.$on("$locationChangeSuccess",a)}function r(){e(function(){i.nav.toggleNav=null}),s.removeClass("nav-closed nav-open")}i.nav={};var u,s=angular.element("body");t.init({scope:i,mq:n.SMALL,enter:c,exit:r})}return i.$inject=["$scope","$element","$attrs"],{restrict:"EA",link:i}}angular.module("myApp").directive("navControl",t),t.$inject=["mediaCheck","MQ","$timeout"]}(),function(){"use strict";function t(t,n,e){function i(t){o.localData=t}var o=this;e.setTitle("Home"),o.isAuthenticated=function(){return t.isAuthenticated()},n.getJSON().then(i),o.stringOfHTML='<strong>Some bold text</strong> bound as HTML with a <a href="#">link</a>!'}angular.module("myApp").controller("HomeCtrl",t),t.$inject=["$auth","localData","Page"]}(),function(){"use strict";function t(t,n,e,i,o,a){function c(t){r.localData=t}var r=this;a.setTitle("Login"),o.getJSON().then(c),r.logins=n.LOGINS,r.authenticate=function(n){function o(){r.loggingIn=!1,e.authPath&&i.path(e.authPath)}r.loggingIn=!0,t.authenticate(n).then(o)["catch"](function(t){console.log(t.data),r.loggingIn="error",r.loginMsg=""})}}angular.module("myApp").controller("LoginCtrl",t),t.$inject=["$auth","OAUTH","$rootScope","$location","localData","Page"]}();
!function(){"use strict";angular.module("reStart-mean",["ngRoute","ngResource","ngSanitize","ngMessages","mediaCheck","resize","satellizer"])}(),function(){"use strict";var t={LOGINS:[{account:"google",name:"Google",url:"http://accounts.google.com"},{account:"twitter",name:"Twitter",url:"http://twitter.com"},{account:"facebook",name:"Facebook",url:"http://facebook.com"},{account:"github",name:"GitHub",url:"http://github.com"}]};angular.module("reStart-mean").constant("OAUTH",t)}(),function(){"use strict";function t(t,n,e,o,r){function i(){d.pageTitle=t,n.$on("$routeChangeStart",s),n.$on("$routeChangeSuccess",f),n.$on("$routeChangeError",g)}function a(){n.$broadcast("enter-mobile")}function c(){n.$broadcast("exit-mobile")}function u(){n.$broadcast("loading-on")}function l(){n.$broadcast("loading-off")}function s(t,n){n.$$route&&n.$$route.resolve&&u()}function f(t,n,o){o&&h.matchCurrent(e.SMALL),n.$$route&&n.$$route.resolve&&l()}function g(t,n,e,o){var i=n&&(n.title||n.name||n.loadedTemplateUrl)||"unknown target",a="Error routing to "+i+". "+(o.msg||"");m||(m=!0,l(),r.error(a))}var d=this,m=!1,h=o.init({scope:n,media:{mq:e.SMALL,enter:a,exit:c},debounce:200});i()}angular.module("reStart-mean").controller("PageCtrl",t),t.$inject=["Page","$scope","MQ","mediaCheck","$log"]}(),function(){"use strict";function t(){function t(){return e+" | "+o}function n(t){o=t}var e="reStart-mean",o="Home";return{getTitle:t,setTitle:n}}angular.module("reStart-mean").factory("Page",t)}(),function(){"use strict";function t(t){function n(n){var e=[];return angular.forEach(t.LOGINS,function(t){var o=t.account;n[o]&&e.push(o)}),e}return{getLinkedAccounts:n}}angular.module("reStart-mean").factory("User",t),t.$inject=["OAUTH"]}(),function(){"use strict";function t(t){function n(){return t.isAuthenticated()}return{isAuthenticated:n}}angular.module("reStart-mean").factory("Utils",t),t.$inject=["$auth"]}(),function(){"use strict";var t={LOGIN_URL:{PROD:"http://restart-mean.kmaida.net/auth/login",DEV:"http://localhost:8081/auth/login"},CLIENTIDS:{FACEBOOK:"343789249146966",GOOGLE:"479651367330-trvf8efoo415ie0usfhm4i59410vk3j9.apps.googleusercontent.com",GITHUB:"8096e95c2eba33b81adb"}};angular.module("reStart-mean").constant("APPAUTH",t)}(),function(){"use strict";function t(t,n){t.loginUrl=n.LOGIN_URL.PROD,t.facebook({clientId:n.CLIENTIDS.FACEBOOK}),t.google({clientId:n.CLIENTIDS.GOOGLE}),t.twitter({url:"/auth/twitter"}),t.github({clientId:n.CLIENTIDS.GITHUB})}angular.module("reStart-mean").config(t),t.$inject=["$authProvider","APPAUTH"]}(),function(){"use strict";function t(t,n){t.when("/",{templateUrl:"ng-app/pages/home/Home.view.html",controller:"HomeCtrl",controllerAs:"home",secure:!0}).when("/login",{templateUrl:"ng-app/pages/login/Login.view.html",controller:"LoginCtrl",controllerAs:"login"}).when("/account",{templateUrl:"ng-app/pages/account/Account.view.html",controller:"AccountCtrl",controllerAs:"account",secure:!0}).when("/admin",{templateUrl:"ng-app/pages/admin/Admin.view.html",controller:"AdminCtrl",controllerAs:"admin",secure:!0}).otherwise({templateUrl:"ng-app/pages/error404/Error404.view.html",controller:"Error404Ctrl",controllerAs:"e404"}),n.html5Mode({enabled:!0}).hashPrefix("!")}function n(t,n,e){function o(o,r){var i;r&&r.$$route&&r.$$route.secure&&!e.isAuthenticated()&&(i=n.path(),t.authPath=-1===i.indexOf("login")?i:"/",t.$evalAsync(function(){n.path("/login")}))}t.$on("$routeChangeStart",o)}angular.module("reStart-mean").config(t).run(n),t.$inject=["$routeProvider","$locationProvider"],n.$inject=["$rootScope","$location","$auth"]}(),function(){"use strict";function t(t,n){function e(){return t.get("/data/data.json").then(n.success,n.error)}return{getJSON:e}}angular.module("reStart-mean").factory("LocalData",t),t.$inject=["$http","Res"]}(),function(){"use strict";function t(){function t(t){if(angular.isObject(t.data))return t.data;throw new Error("retrieved data is not typeof object.")}function n(t){throw new Error("Error retrieving data",t)}return{success:t,error:n}}angular.module("reStart-mean").factory("Res",t)}(),function(){"use strict";function t(t,n){function e(){return t.get("/api/me").then(n.success,n.error)}function o(n){return t.put("/api/me",n)}function r(){return t.get("/api/users").then(n.success,n.error)}return{getUser:e,updateUser:o,getAllUsers:r}}angular.module("reStart-mean").factory("UserData",t),t.$inject=["$http","Res"]}(),function(){"use strict";var t={SMALL:"(max-width: 767px)",LARGE:"(min-width: 768px)"};angular.module("reStart-mean").constant("MQ",t)}(),function(){function t(t,n){function e(e,o){function r(){var t=o.find(".ad-test");e.ab.blocked=t.height()<=0||!o.find(".ad-test:visible").length}e.ab={},e.ab.host=n.host(),t(r,200)}return{restrict:"EA",link:e,template:'<div class="ad-test fa-facebook fa-twitter" style="height:1px;"></div><div ng-if="ab.blocked" class="ab-message alert alert-danger"><i class="fa fa-ban"></i> <strong>AdBlock</strong> is prohibiting important functionality! Please disable ad blocking on <strong>{{ab.host}}</strong>. This site is ad-free.</div>'}}angular.module("reStart-mean").directive("detectAdblock",t),t.$inject=["$timeout","$location"]}(),function(){"use strict";function t(t,e){function o(n,o,r,i){function a(){e.init({scope:n,resizedFn:c,debounce:200});n.$watch("loading.active",u)}function c(){g=t.innerHeight+"px",i.active&&f.css({height:g,overflowY:"hidden"})}function u(t){t?l():s()}function l(){f.css({height:g,overflowY:"hidden"})}function s(){f.css({height:"auto",overflowY:"auto"})}var f=angular.element("body"),g=t.innerHeight+"px";a()}return{restrict:"EA",replace:!0,templateUrl:"ng-app/core/ui/loading.tpl.html",transclude:!0,controller:n,controllerAs:"loading",bindToController:!0,link:o}}function n(t){function n(){t.$on("loading-on",e),t.$on("loading-off",o)}function e(){r.active=!0}function o(){r.active=!1}var r=this;n()}angular.module("reStart-mean").directive("loading",t),t.$inject=["$window","resize"],n.$inject=["$scope"]}(),function(){"use strict";function t(t){return function(n){return t.trustAsHtml(n)}}angular.module("reStart-mean").filter("trustAsHTML",t),t.$inject=["$sce"]}(),function(){"use strict";function t(){return{restrict:"EA",controller:n,controllerAs:"u",bindToController:!0,template:'<div ng-if="u.isAuthenticated() && !!u.user" class="user clearfix"><img ng-if="!!u.user.picture" ng-src="{{u.user.picture}}" class="user-picture" /><span class="user-displayName" ng-bind="::u.user.displayName"></span></div>'}}function n(t,n){function e(){o()}function o(){return t.getUser().then(r)}function r(t){return i.user=t,i.user}var i=this;i.isAuthenticated=n.isAuthenticated,e()}angular.module("reStart-mean").directive("user",t),n.$inject=["UserData","Utils"]}(),function(){"use strict";function t(t,n,e,o,r,i){function a(){s(),c(),t.$on("$locationChangeSuccess",s)}function c(){return t.$emit("loading-on"),e.getJSON().then(u)}function u(n){return m.localData=n,t.$emit("loading-off"),m.localData}function l(){m.adminUser=void 0,o.logout(),n.path("/login")}function s(){i.isAuthenticated()&&angular.isUndefined(m.adminUser)&&r.getUser().then(f)}function f(t){return m.adminUser=t.isAdmin,m.adminUser}function g(t){return n.path()===t}function d(t){return n.path().substr(0,t.length)===t}var m=this;m.logout=l,m.isAuthenticated=i.isAuthenticated,m.indexIsActive=g,m.navIsActive=d,a()}angular.module("reStart-mean").controller("HeaderCtrl",t),t.$inject=["$scope","$location","LocalData","$auth","UserData","Utils"]}(),function(){"use strict";function t(t,n){function e(e){function o(){n.init({scope:e,resizedFn:r,debounce:100});e.$on("$locationChangeStart",u),e.$on("enter-mobile",l),e.$on("exit-mobile",s)}function r(){d.css({minHeight:t.innerHeight+"px"})}function i(){g.removeClass("nav-closed").addClass("nav-open"),f=!0}function a(){g.removeClass("nav-open").addClass("nav-closed"),f=!1}function c(){f?a():i()}function u(){f&&a()}function l(){a(),e.nav.toggleNav=c}function s(){e.nav.toggleNav=null,g.removeClass("nav-closed nav-open")}var f,g=angular.element("body"),d=g.find(".layout-canvas");e.nav={},o()}return{restrict:"EA",link:e}}angular.module("reStart-mean").directive("navControl",t),t.$inject=["$window","resize"]}(),function(){"use strict";function t(t,n,e,o,r,i,a,c){function u(){c.setTitle(U.title),d(),t.$watch("account.user.displayName",m),l()}function l(){return s()}function s(){return t.$emit("loading-on"),o.getUser().then(f,g)}function f(n){U.user=n,U.administrator=U.user.isAdmin,U.linkedAccounts=a.getLinkedAccounts(U.user,"account"),U.showAccount=!0,t.$emit("loading-off")}function g(){U.errorGettingUser=!0,t.$emit("loading-off")}function d(){U.btnSaved=!1,U.btnSaveText="Save"}function m(t){U.btnSaveText=""===t||null===t?"Enter Name":"Save"}function h(){var t={displayName:U.user.displayName};U.user.displayName&&(U.btnSaveText="Saving...",o.updateUser(t).then($,v))}function $(){U.btnSaved=!0,U.btnSaveText="Saved!",r(d,2500)}function v(){U.btnSaved="error",U.btnSaveText="Error saving!"}function p(t){return n.link(t).then(U.getProfile)["catch"](A)}function A(t){alert(t.data.message)}function S(t){return n.unlink(t).then(U.getProfile)["catch"](b)}function b(t){alert(t.data?t.data.message:"Could not unlink "+provider+" account")}var U=this;U.title="My Account",U.logins=i.LOGINS,U.isAuthenticated=e.isAuthenticated,U.getProfile=s,U.updateProfile=h,U.link=p,U.unlink=S,u()}angular.module("reStart-mean").controller("AccountCtrl",t),t.$inject=["$scope","$auth","Utils","UserData","$timeout","OAUTH","User","Page"]}(),function(){"use strict";function t(t,n,e,o,r){function i(){r.setTitle(l.title),a()}function a(){return t.$emit("loading-on"),e.getAllUsers().then(c,u)}function c(n){l.users=n,angular.forEach(l.users,function(t){t.linkedAccounts=o.getLinkedAccounts(t)}),l.showAdmin=!0,t.$emit("loading-off")}function u(){l.showAdmin=!1,t.$emit("loading-off")}var l=this;l.title="Admin",l.isAuthenticated=n.isAuthenticated,i()}angular.module("reStart-mean").controller("AdminCtrl",t),t.$inject=["$scope","Utils","UserData","User","Page"]}(),function(){"use strict";function t(t){function n(){t.setTitle(e.title)}var e=this;e.title="404 - Page Not Found",n()}angular.module("reStart-mean").controller("Error404Ctrl",t),t.$inject=["Page"]}(),function(){"use strict";function t(t,n,e,o){function r(){o.setTitle("Home"),i(),t.$on("enter-mobile",c),t.$on("exit-mobile",u)}function i(){return t.$emit("loading-on"),e.getJSON().then(a)}function a(n){return l.localData=n,t.$emit("loading-off"),l.localData}function c(){l.viewformat="small"}function u(){l.viewformat="large"}var l=this;l.stringOfHTML='<strong>Some bold text</strong> bound as HTML with a <a href="#">link</a>!',l.isAuthenticated=n.isAuthenticated,l.viewformat=null,l.localData=null,r()}angular.module("reStart-mean").controller("HomeCtrl",t),t.$inject=["$scope","Utils","LocalData","Page"]}(),function(){"use strict";function t(t,n,e,o,r,i,a){function c(){a.setTitle("Login"),u()}function u(){return t.$emit("loading-on"),i.getJSON().then(l)}function l(n){return d.localData=n,t.$emit("loading-off"),d.localData}function s(t){d.loggingIn=!0,n.authenticate(t).then(f)["catch"](g)}function f(){d.loggingIn=!1,r.path(o.authPath?o.authPath:"/")}function g(t){console.log(t.data),d.loggingIn="error",d.loginMsg=""}var d=this;d.logins=e.LOGINS,d.loggingIn=!1,d.authenticate=s,c()}angular.module("reStart-mean").controller("LoginCtrl",t),t.$inject=["$scope","$auth","OAUTH","$rootScope","$location","LocalData","Page"]}();